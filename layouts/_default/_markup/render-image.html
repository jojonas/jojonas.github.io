{{ $image := .Page.Resources.GetMatch (printf "%s" (.Destination | safeURL)) }}
<a href="{{ .Destination | safeURL }}"><img src="{{ .Destination | safeURL }}"
  {{- with $image }} width="{{ $image.Width }}" height="{{ $image.Height }}" {{ end -}}
  {{- with .Text }} alt="{{ . }}"{{ end -}}
  {{- with .Title}} style="width: {{ . }};"{{ end -}}
></a>
{{- /* chomp trailing newline */ -}}