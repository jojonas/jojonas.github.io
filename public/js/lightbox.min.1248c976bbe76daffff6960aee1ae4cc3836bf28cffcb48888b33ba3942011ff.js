function is_youtubelink(e){var t=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;return!!e.match(t)&&RegExp.$1}function is_imagelink(e){var t=/([a-z-_0-9/:.]*\.(jpg|jpeg|png|gif))/i;return!!e.match(t)}function is_vimeolink(e,t){var s=!1,n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState==XMLHttpRequest.DONE)if(n.status==200){var e=JSON.parse(n.responseText);s=e.video_id,console.log(s),t.classList.add("lightbox-vimeo"),t.setAttribute("data-id",s),t.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML='<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+t.getAttribute("data-id")+'/?autoplay=1&byline=0&title=0&portrait=0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div></div>',document.getElementById("lightbox").style.display="block",setGallery(this)})}else alert(n.status==400?"There was an error 400":"something else other than 200 was returned")},n.open("GET","https://vimeo.com/api/oembed.json?url="+e,!0),n.send()}function setGallery(e){var t,n,s,o,i,a=document.body.querySelectorAll(".gallery");a.forEach(e=>{e.classList.remove("gallery")}),e.closest("ul, p")&&(n=e.closest("ul, p").querySelectorAll("a[class*='lightbox-']"),n.forEach(e=>{e.classList.remove("current")}),n.forEach(t=>{e.getAttribute("href")==t.getAttribute("href")&&t.classList.add("current")}),n.length>1&&(document.getElementById("lightbox").classList.add("gallery"),n.forEach(e=>{e.classList.add("gallery")})),t=document.querySelectorAll("a.gallery"),Object.keys(t).forEach(function(e){t[e].classList.contains("current")&&(s=e)}),s==t.length-1?(o=0):(o=parseInt(s)+1),s==0?(i=parseInt(t.length-1)):(i=parseInt(s)-1),document.getElementById("next").addEventListener("click",function(){t[o].click()}),document.getElementById("prev").addEventListener("click",function(){t[i].click()}))}document.addEventListener("DOMContentLoaded",function(){var e,t=document.createElement("div");t.setAttribute("id","lightbox"),document.body.appendChild(t),e=document.querySelectorAll("a"),e.forEach(e=>{var n,s,o,i,t=e.getAttribute("href");t&&(t.indexOf("vimeo")!==-1&&!e.classList.contains("no-lightbox")&&is_vimeolink(t,e),is_youtubelink(t)&&!e.classList.contains("no-lightbox")&&(e.classList.add("lightbox-youtube"),e.setAttribute("data-id",is_youtubelink(t))),is_imagelink(t)&&!e.classList.contains("no-lightbox")&&(e.classList.add("lightbox-image"),n=e.getAttribute("href"),s=n.split("/").pop(),o=s.split("."),i=o[0],e.setAttribute("title",i)))}),document.getElementById("lightbox").addEventListener("click",function(e){e.target.id!="next"&&e.target.id!="prev"&&(this.innerHTML="",document.getElementById("lightbox").style.display="none")}),e=document.querySelectorAll("a.lightbox-youtube"),e.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML='<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://www.youtube.com/embed/'+this.getAttribute("data-id")+'?autoplay=1&showinfo=0&rel=0"></iframe></div>',document.getElementById("lightbox").style.display="block",setGallery(this)})}),e=document.querySelectorAll("a.lightbox-image"),e.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML=`<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="img" style="background: url('`+this.getAttribute("href")+`') center center / contain no-repeat;" title="`+this.getAttribute("title")+'" ><img src="'+this.getAttribute("href")+'" alt="'+this.getAttribute("title")+'" /></div><span>'+this.getAttribute("title")+"</span>",document.getElementById("lightbox").style.display="block",setGallery(this)})})})